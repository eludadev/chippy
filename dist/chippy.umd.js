(function(e,_){typeof exports=="object"&&typeof module!="undefined"?module.exports=_(require("vue")):typeof define=="function"&&define.amd?define(["vue"],_):(e=typeof globalThis!="undefined"?globalThis:e||self,e.MyLib=_(e.Vue))})(this,function(e){"use strict";function _(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}var E;const w=typeof window!="undefined";w&&((E=window==null?void 0:window.navigator)==null?void 0:E.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function R(t,l){var r;if(typeof t=="number")return t+l;const s=((r=t.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:r[0])||"",o=t.slice(s.length),n=parseFloat(s)+l;return Number.isNaN(n)?t:n+o}function W(t,l=!0){e.getCurrentInstance()?e.onBeforeMount(t):l?t():e.nextTick(t)}const O=w?window:void 0;w&&window.document,w&&window.navigator,w&&window.location;function x(t,l={}){const{window:r=O}=l,s=Boolean(r&&"matchMedia"in r);let o;const n=e.ref(!1),a=()=>{!s||(o||(o=r.matchMedia(t)),n.value=o.matches)};return W(()=>{a(),o&&("addEventListener"in o?o.addEventListener("change",a):o.addListener(a),_(()=>{"removeEventListener"in o?o.removeEventListener("change",a):o.removeListener(a)}))}),n}const N={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var U=Object.defineProperty,V=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,A=(t,l,r)=>l in t?U(t,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[l]=r,F=(t,l)=>{for(var r in l||(l={}))H.call(l,r)&&A(t,r,l[r]);if(V)for(var r of V(l))j.call(l,r)&&A(t,r,l[r]);return t};function P(t,l={}){function r(i,u){let f=t[i];return u!=null&&(f=R(f,u)),typeof f=="number"&&(f=`${f}px`),f}const{window:s=O}=l;function o(i){return s?s.matchMedia(i).matches:!1}const n=i=>x(`(min-width: ${r(i)})`,l),a=Object.keys(t).reduce((i,u)=>(Object.defineProperty(i,u,{get:()=>n(u),enumerable:!0,configurable:!0}),i),{});return F({greater:n,smaller(i){return x(`(max-width: ${r(i,-.1)})`,l)},between(i,u){return x(`(min-width: ${r(i)}) and (max-width: ${r(u,-.1)})`,l)},isGreater(i){return o(`(min-width: ${r(i)})`)},isSmaller(i){return o(`(max-width: ${r(i,-.1)})`)},isInBetween(i,u){return o(`(min-width: ${r(i)}) and (max-width: ${r(u,-.1)})`)}},a)}const C=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},B="__vueuse_ssr_handlers__";C[B]=C[B]||{},C[B];var T;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(T||(T={}));function q(t){if(t.length){const l=t.slice(-1);return M(t,l)}else return""}function M(t,l){return(l.length?G(l.slice(-1)):!1)?t.toLowerCase():t.toUpperCase()}function G(t){return t===t.toLowerCase()}const Q={class:"relative overflow-hidden w-full h-full"},J=["id","placeholder","list","value"],X={class:"opacity-0"},Y={id:"autocomplete-list"},Z=["value"],ee={__name:"ChipInputArea",props:{id:{type:String,default:""},autocomplete:{type:Array,default:[]},color:{type:String,default:"#fff"},placeholder:{type:String,default:""},modelValue:{type:String}},emits:{submit:{value:String},"last-backspace":{value:null},"update:modelValue":{value:String}},setup(t,{expose:l,emit:r}){const s=t,o=e.ref(null),n=e.reactive({autocompletePossibilities:[],toAutocomplete:"",userInput:""}),a=e.reactive({isOverflow:!1}),i=e.reactive({keyupHappened:!1}),f=P(N).greater("sm");e.onMounted(()=>{n.autocompletePossibilities=s.autocomplete,a.widthPriorToOverflow=o.value.offsetWidth});const h=["Enter"," "],b=[",",";"],m=[...h,...b];function L(c){const p=c.target.value.slice(-1),d=c.key;(m.includes(p)||m.includes(d))&&(m.includes(p)&&(n.userInput=n.userInput.slice(0,-1)),n.userInput.length?K():n.userInput=""),i.keyupHappened=!0}const v=[...m];function $(c){const p=c.target.value.slice(-1),d=c.key;(v.includes(p)||v.includes(d))&&(c.preventDefault(),n.toAutocomplete&&K()),d==="Backspace"&&n.userInput.length===0&&i.keyupHappened&&r("last-backspace"),i.keyupHappened=!1}function S(c){let p=c.target.value.trimLeft();p===n.userInput.slice(0,-1)?c.target.selectionStart===p.length?n.toAutocomplete&&(p=n.userInput,I()):z(p):z(p.trimRight()),n.userInput=p,o.value.value=n.userInput,n.userInput.length||(a.isOverflow=!1),r("update:modelValue",n.userInput)}function k(){o.value.focus()}function y(){o.value.value="",n.userInput="",r("update:modelValue",n.userInput),k()}function g(){n.userInput=n.userInput.trimRight()+n.toAutocomplete,I()}function I(){n.toAutocomplete=""}function z(c){const p=()=>{if(!s.autocomplete||!c.length)return"";for(const d of s.autocomplete)if(d.toLowerCase().startsWith(c.toLowerCase()))return d.slice(c.length);return""};n.toAutocomplete=M(p(),c)}function K(c){g(),r("submit",q(n.userInput)),a.isOverflow=!1}const ue=e.computed(()=>s.autocomplete.filter(c=>c.toLowerCase().startsWith(n.userInput.toLowerCase())));e.watch(()=>n.userInput,pe);function pe(){const c=n.userInput.trimRight()+n.toAutocomplete,p=o.value.computedStyleMap().get("font-size").value,d=o.value.offsetWidth;o.value&&d/c.length<p&&(a.isOverflow=!0)}return l({clear:y,focus:k,getIsOverflow:()=>a.isOverflow}),(c,p)=>(e.openBlock(),e.createElementBlock("div",Q,[e.createElementVNode("input",{class:"bg-transparent w-full h-full text-stone-50 px-2 py-1 focus:outline-0 focus:filter focus:brightness-110",ref_key:"input",ref:o,id:s.id,onKeyup:L,onKeydown:$,onInput:S,style:e.normalizeStyle({color:s.color}),placeholder:s.placeholder,autocomplete:"off",list:e.unref(f)&&"autocomplete-list",value:s.modelValue},null,44,J),e.createElementVNode("div",{class:"absolute top-[2px] left-2 filter brightness-50 pointer-events-none",style:e.normalizeStyle({color:s.color})},[e.createElementVNode("span",X,e.toDisplayString(n.userInput),1),e.createElementVNode("span",null,e.toDisplayString(n.toAutocomplete),1)],4),e.createElementVNode("datalist",Y,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(ue),d=>(e.openBlock(),e.createElementBlock("option",{value:d},null,8,Z))),256))])]))}},te=["title"],oe={class:"block relative group-focus:-translate-x-1.5 group-hover:-translate-x-1.5 transition-transform"},ne=e.createElementVNode("svg",{class:"w-4 h-4 fill-black absolute top-1/2 right-1.5 transform translate-y-32 group-focus:-translate-y-1/2 group-hover:-translate-y-1/2 transition-transform",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"})],-1),re={__name:"ChipInputItem",props:{color:{type:String,default:"#fff"},value:{type:String,required:!0}},emits:["delete"],setup(t,{emit:l}){const r=t;function s(n){n.key==="Backspace"&&l("delete")}const o=e.computed(()=>`Remove ${r.value}`);return(n,a)=>(e.openBlock(),e.createElementBlock("button",{class:"block relative rounded-full py-0.5 pl-4 px-4 hover:filter hover:brightness-110 active:brightness-90 overflow-hidden group",style:e.normalizeStyle({backgroundColor:r.color}),onClick:a[0]||(a[0]=i=>l("delete")),onKeydown:s,title:e.unref(o)},[e.createElementVNode("span",oe,e.toDisplayString(r.value),1),ne],44,te))}};var fe=(()=>`.list-enter-active[data-v-6b0c21cb],.list-leave-active[data-v-6b0c21cb],.list-move[data-v-6b0c21cb]{transition:all .2s ease}#input[data-v-6b0c21cb]{transition:none}.list-enter-from[data-v-6b0c21cb],.list-leave-to[data-v-6b0c21cb]{opacity:0;transform:translate(-10px)}.list-leave-active[data-v-6b0c21cb]{left:var(--x);position:absolute;top:var(--y)}
`)(),D=(t,l)=>{const r=t.__vccOpts||t;for(const[s,o]of l)r[s]=o;return r},le=D({__name:"ChipInputList",props:{chips:{type:Array,required:!0},inputIsOverflow:{type:Boolean,default:!1}},emits:{delete:{index:Number}},setup(t,{expose:l,emit:r}){const s=t,o=e.ref(null);function n(){if(o.value.$el.children.length<2)return;const f=o.value.$el.children[1];setTimeout(()=>f.querySelector("button").focus(),0)}function a(i){const u=i.getBoundingClientRect();i.style.setProperty("--x",`${Math.round(u.x)}px`),i.style.setProperty("--y",`${Math.round(u.y)}px`)}return l({focusLast:n}),(i,u)=>(e.openBlock(),e.createBlock(e.TransitionGroup,{name:"list",ref_key:"list",ref:o,tag:"ul",onBeforeLeave:a,role:"listbox","aria-label":"chips","aria-orientation":"horizontal","aria-multiselectable":"false","aria-live":"polite",class:"flex flex-wrap gap-1"},{default:e.withCtx(()=>[(e.openBlock(),e.createElementBlock("li",{id:"input",class:e.normalizeClass(["basis-20 grow order-2",{"basis-full":s.inputIsOverflow}]),style:e.normalizeStyle({order:s.chips.length+1}),key:"USERINPUT"},[e.renderSlot(i.$slots,"input",{},void 0,!0)],6)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.chips,({color:f,value:h},b)=>(e.openBlock(),e.createElementBlock("li",{role:"listitem",class:"order-1",style:e.normalizeStyle({order:s.chips.length-(b+1)}),key:h},[e.createVNode(re,{value:h,color:f,onDelete:m=>r("delete",b)},null,8,["value","color","onDelete"])],4))),128))]),_:3},512))}},[["__scopeId","data-v-6b0c21cb"]]);function se(){const t=(o,n)=>Math.floor(Math.random()*(n-o+1))+o,l=t(0,360),r=t(42,98),s=t(40,90);return`hsl(${l},${r}%,${s}%)`}var me=(()=>`.warning[data-v-0ba06708]{outline-color:#ef4444;outline-style:solid;outline-width:2px}
`)();const ie={key:0,for:"chips-input",class:"text-stone-50 text-sm ml-2 mb-2 block"},ae={key:1,for:"chips-input",class:"sr-only"};var ce=D({__name:"ChipInput",props:{autocomplete:{type:Array,default:[]},label:{type:String,default:""},placeholder:{type:String,default:""},maxChips:{type:Number,default:-1}},emits:["delete:chip"],setup(t,{expose:l,emit:r}){const s=t,o=e.reactive({chips:[],color:"#fff",userInput:""}),n=e.ref(null),a=e.ref(null),i=e.computed(()=>s.maxChips>0&&o.chips.length>=s.maxChips&&o.userInput.length>0),u=e.computed(()=>n.value&&n.value.getIsOverflow());function f(y){s.maxChips>0&&o.chips.length>=s.maxChips||(o.chips.unshift({value:y,color:o.color}),o.color=se(),k())}function h(y){o.chips.splice(y,1),r("delete:chip")}const m=P(N).greater("sm");function L(){m.value?a.value.focusLast():v(),r("delete:chip")}function v(){o.chips.shift()}function $(){o.chips=[]}const S=()=>n.value.focus(),k=()=>n.value.clear();return l({focus:S,clear:k,getChips:()=>o.chips,clearChips:$}),(y,g)=>(e.openBlock(),e.createElementBlock("form",{class:e.normalizeClass(["bg-stone-800 px-2 py-2 rounded overflow-hidden",{warning:e.unref(i)}]),onSubmit:g[1]||(g[1]=e.withModifiers(()=>{},["prevent"]))},[s.label.length?(e.openBlock(),e.createElementBlock("label",ie,e.toDisplayString(s.label),1)):(e.openBlock(),e.createElementBlock("label",ae,"Enter your tags:")),e.createVNode(le,{chips:o.chips,"input-is-overflow":e.unref(u),ref_key:"chipList",ref:a,onDelete:h},{input:e.withCtx(()=>[e.createVNode(ee,{ref_key:"input",ref:n,id:"chips-input",onSubmit:f,onLastBackspace:L,color:o.color,placeholder:s.placeholder,autocomplete:s.autocomplete,modelValue:o.userInput,"onUpdate:modelValue":g[0]||(g[0]=I=>o.userInput=I)},null,8,["color","placeholder","autocomplete","modelValue"])]),_:1},8,["chips","input-is-overflow"])],34))}},[["__scopeId","data-v-0ba06708"]]);return ce});
